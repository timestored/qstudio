"use strict";(self.webpackChunkflexy=self.webpackChunkflexy||[]).push([[372],{40372:function(e,r,a){a.r(r),a.d(r,{default:function(){return h},fromOrderBookToSurface:function(){return l}});var n=a(1413),t=a(15671),i=a(43144),o=a(60136),s=a(27277),u=(a(13661),a(19825)),c=a(51371),m=a(47313),f=a(46417);function l(e){var r=e.d(),a=(e.count(),[]);return r.forEach((function(e,r){for(var n=0;n<=20&&void 0!==e["as"+n];n++){var t=e["a"+n],i=e["as"+n];"number"===typeof t&&"number"===typeof i&&a.push([-r,t,i])}})),a}var h=function(e){(0,o.Z)(a,e);var r=(0,s.Z)(a);function a(){return(0,t.Z)(this,a),r.apply(this,arguments)}return(0,i.Z)(a,[{key:"toSurfaceOption",value:function(e,r){var a=e.chartRS.numericColumns,t="3dbar"===this.props.chartType,i=[],o=["x","y","z"];if(e.isOrderBook())o=["time","price","size"],i=l(e);else{o=[a[0].name,a[1].name,a[2].name];for(var s=0;s<e.count();s++)i.push([a[0].vals[s],a[1].vals[s],a[2].vals[s]])}var c=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY;i.forEach((function(e){c=Math.min(e[0],c),m=Math.max(e[0],m),f=Math.min(e[1],f),h=Math.min(e[2],h),p=Math.max(e[2],p)}));var d="dark"===r?"#EEE":void 0,I={type:"value",axisLabel:{color:d},axisTick:{lineStyle:{color:d}},axisLine:{lineStyle:{color:d}}};return{tooltip:(0,n.Z)({},(0,u.H$)(r)),title:(0,u.Ci)(r),visualMap:{show:!1,min:h,max:p,inRange:{color:["#111675","#355594","#548dd1","#5b89e9","#70b3f8","#cfcf9f","#bea070","#dd8e41","#d44d33","#d73027","#a50026"]}},xAxis3D:(0,n.Z)((0,n.Z)({},I),{},{name:o[0],min:c,max:m}),yAxis3D:(0,n.Z)((0,n.Z)({},I),{},{name:o[1],min:f}),zAxis3D:(0,n.Z)((0,n.Z)({},I),{},{name:o[2],min:h}),grid3D:{viewControl:{},light:{main:{shadow:!0,quality:"ultra",intensity:1.2}}},animation:!1,series:[{type:t?"bar3D":"surface",wireframe:{},shading:"lambert",data:i}]}}},{key:"render",value:function(){var e=this.props,r=e.srs,a=e.theme,n=e.chartType,t=(0,u.Vd)({srs:this.props.srs,needsNumbers:3});if(null!==t)return(0,f.jsx)(u.xF,{chartType:n,reason:t});try{return(0,f.jsx)(c.Z,{option:(0,u.eW)(this.toSurfaceOption(r,a),this.props.subConfig),theme:(0,u.x_)(a),notMerge:!0})}catch(i){return(0,f.jsx)(u.xF,{chartType:n})}}}]),a}(m.Component)}}]);